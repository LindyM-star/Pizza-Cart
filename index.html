<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./Style.css">
    <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body>
    <body> <!---->
        <div class="container"  x-data="{ 
            showCart: false, 
            smallTotal : 70.00, 
            smallQty : 0, 
            mediumTotal : 100.00, 
            mediumQty : 0, 
            largeTotal : 110.00, 
            largeQty : 0,
            payNow : false,
            paymentAmount : 0,
            paymentMessage : '',
            buySmall() {
                this.smallTotal += 70.00;
                this.smallQty +=1
            },
            lessSmall() {
                if (this.smallQty > 0) {
                    this.smallTotal -= 70.00;
                    this.smallQty -=1
                }	
            },
            buyMedium() {
                this.mediumTotal += 70.00;
                this.mediumQty +=1
            },
            lessMedium() {
                if (this.mediumQty > 0) {
                    this.mediumTotal -= 100.00;
                    this.mediumQty -=1
                }	
            },
            buyLarge() {
                this.largeTotal += 110.00;
                this.largeQty +=1
            },
            lessLarge() {
                if (this.largeQty > 0) {
                    this.largeTotal -= 110.00;
                    this.largeQty -=1
                }	
            },
            cartTotal() {
                return this.smallTotal + this.mediumTotal + this.largeTotal
            },
            totalQty() {
                return this.smallQty + this.mediumQty + this.largeQty
            },
            makePayment() {
                if (this.paymentAmount === 0) {
                    this.paymentMessage = 'Amount not entered!'
                }
                if (this.paymentAmount >= this.cartTotal() ){
                    this.paymentMessage = 'Payment successful!'
                setTimeout(() => {
                    this.paymentNow = false;
                    this.clearCart();
                    this.paymentMessage = '';
                    
                }, 5000);
                this.paymentAmount = '';
                
                    
                } else {
                    this.paymentMessage = 'Payment failed!'
                }
            },
            clearCart() {
                this.smallTotal = 0.00;
                this.smallQty = 0.00;
                this.mediumTotal = 0.00; 
                this.mediumQty = 0; 
                this.largeTotal = 0.00; 
                this.largeQty = 0;
            }
            
         }" >
    
    <h1>Perfect Pizza</h1>
    <div class="f1">
        <button x-on:click="showCart=true" ><img src="shoping cart image.png" width="30" alt="">Show cart </button>
				<strong x-show="totalQty() > 0" ><span x-text="totalQty()" ></span> Pizzas in the cart.</strong>
    </div>
    
		<div class="cart-box">
			<div class="cart" x-show="showCart">
				<div>
					<button x-on:click="showCart=false" >
						<img src="shoping cart image.png" width="30" alt="">
						Close cart </button>
						<strong>R0.00</strong>
				</div>
                <div class="">
					<h2>Cart
						<img src="shoping cart image.png" width="30" alt="">
					</h2>
				</div>
                <table>
                    <table>
                        <tr x-show="smallQty > 0" > <!---->
                            <td>Small pizza</td>
                            <td>
                                <span x-text="smallQty" ></span>
                                <button x-on:click="buySmall" x-show="smallQty > 0" >+</button>
                                <button x-on:click="lessSmall" x-show="smallQty > 0" >-</button>
                            </td>
                            <td>
                            R<span x-text="smallTotal.toFixed(2)"></span>
                            </td>
                        </tr>
                        <tr x-show="mediumQty > 0">
                            <td>Medium pizza</td>
                            <td>
                                <span x-text="mediumQty" ></span>
                                <button x-on:click="buyMedium" x-show="mediumQty > 0" >+</button>
                                <button x-on:click="lessMedium" x-show="mediumQty > 0">-</button>
                            </td>
                            <td>
                            R<span x-text="mediumTotal.toFixed(2)" ></span>
                            </td>
                        </tr>
                        <tr x-show="largeQty > 0">
                            <td>Large pizza</td>
                            <td>
                                <span x-text="largeQty" ></span>
                                <button x-on:click="buyLarge" x-show="largeQty > 0">+</button>
                                <button x-on:click="lessLarge" x-show="largeQty > 0">-</button>
                            </td>
                            <td>
                            R<span x-text="largeTotal.toFixed(2)"></span>
                            </td>
                        </tr>
                        <tr x-show="cartTotal() > 0">
                            <td colspan="2">Total</td>
                            <td>
                                R<span x-text="cartTotal().toFixed(2)" ></span>
                            </td>
                        </tr>
                        <tr x-show="cartTotal() > 0">
                            <td colspan="2">
    
                                <div x-show="payNow" >
                                    <div class="message" x-text="paymentMessage" ></div>
                                <div>
                                    <label for="">Payment amount</label>
                                    <input class="input" type="number" placeholder="Payment amount" x-model="paymentAmount" >
                                    <button x-on:click="makePayment" class="btn" ><img src="shoping cart image.png" width="20" alt="">Pay now</button>
                                </div>
                                <div>
                                    <!--<</div>--> 
                                </div>
                                
                                </div>
                                
    
                            </td>
                            <td>
                                <button x-show="!payNow" x-on:click="payNow=true" class="btn" ><img src="shoping cart image.png" width="20" alt="">Pay</button>
                            </td>
                        </tr>
                </table>
    <div class="pizzas">
        <div class="small_pizza">
            <h2>Small_Pizza</h2>
            <img src="Pizza-Small.jpg" width="250">
            <div>
                <h3>R70.00</h3>
                <button class="buy btn" x-on:click="smallTotal += 70.00; smallQty +=1 " >buy</button>
                small pizza with 3 toppings
                1 meat topping.
                3 or less other toppings.
            </div>
        </div>
        <div class="medium_Pizza">
            <h2>Medium_Pizza</h2>
            <img src="Pizza-Med.jpg"
                width="250">
            <div>
                <h3>R100</h3>
                <button class="buy btn" x-on:click="mediumTotal += 100.00; mediumQty +=1 " >buy</button>
                medium margeritha pizza with 3 toppings max.
                2 or less meat topping.
                3 or less other toppings.
            </div>
        </div>
        <div class="large_Pizza">
            <h2>Large_Pizza</h2>
            <img src="Pizza-Large.webp"
                width="250">
            <div>
                <h3>R110</h3>
                <button class="buy btn" x-on:click="largeTotal += 110.00; largeQty +=1 " >buy</button>
                large margeritha pizza with 3 toppings max.
                3 meat toppings max.
                3 or less other toppings.
            </div>
        </div>
    </div>

            <div class="footer">
                <div class="contact_us">
                    <h1>contact details</h1>
                    contact us at: 011 -793-2000
                    /fb
                    /insta
                    @perfectpizza
                </div>

                <div class="Address">
                    <h1>Address</h1>

                    4535 klipspruit
                    Pimville
                    1809
                </div>
            </div>

</body>

</html>